<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Multimedia Search</title>
  <link rel="stylesheet" href="../frontend/styles/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <!-- Header with Navigation -->
  <header>
    <div class="container">
      <nav>
        <a href="#" class="logo">
          <i class="fas fa-search"></i>
          AI Media Search
        </a>
        <div class="nav-links">
          <a href="#" class="nav-link active">Home</a>
          <a href="../frontend/pages/browse.html" class="nav-link">Browse</a>
          <a href="/frontend/pages/trending.html" class="nav-link">Trending</a>
          <a href="/frontend/pages/help.html" class="nav-link">Help</a>
        </div>
        <button class="menu-btn">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      <h1>AI Multimedia Search Engine</h1>

      <!-- Stats Bar -->
      <div class="stats-bar slide-up">
        <div class="stat-item">
          <span class="stat-value">10.5k</span>
          <span class="stat-label">Media Files</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">5.2k</span>
          <span class="stat-label">Images</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">3.1k</span>
          <span class="stat-label">Videos</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">2.2k</span>
          <span class="stat-label">Audio Files</span>
        </div>
      </div>

      <!-- Features -->
      <div class="search-features">
        <div class="feature-card fade-in">
          <div class="feature-icon">
            <i class="fas fa-image"></i>
          </div>
          <h3 class="feature-title">Image Search</h3>
          <p class="feature-desc">Find similar images by uploading a reference photo or searching by description</p>
        </div>
        <div class="feature-card fade-in" style="animation-delay: 0.1s;">
          <div class="feature-icon">
            <i class="fas fa-music"></i>
          </div>
          <h3 class="feature-title">Audio Search</h3>
          <p class="feature-desc">Find music, sounds, and podcasts by uploading audio samples or using text</p>
        </div>
        <div class="feature-card fade-in" style="animation-delay: 0.2s;">
          <div class="feature-icon">
            <i class="fas fa-video"></i>
          </div>
          <h3 class="feature-title">Video Search</h3>
          <p class="feature-desc">Find videos based on content, captions, or visual similarity</p>
        </div>
      </div>

      <!-- Tabs Navigation -->
      <div class="tabs">
        <div class="tab active" data-tab="upload">Upload Media</div>
        <div class="tab" data-tab="search">Search Media</div>
        <div class="tab" data-tab="results">Results</div>
      </div>

      <!-- Upload Section -->
      <div class="tab-content active" id="upload-tab">
        <div class="section">
          <h2>Upload Media</h2>
          <p class="mb-4">Share your media files with proper descriptions for better search results.</p>
          
          <div class="form-group">
            <label class="form-label">Select Media File</label>
            <div class="file-input-wrapper">
              <input type="file" id="uploadFile" class="file-input">
              <label for="uploadFile" class="file-input-label">
                <i class="fas fa-upload"></i>
                Choose a file or drag here
              </label>
            </div>
            <div class="file-name" id="uploadFileName"></div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Caption/Description</label>
            <input type="text" id="caption" class="form-control" placeholder="Enter detailed description for better search results">
          </div>
          
          <button class="btn btn-primary btn-block" onclick="uploadMedia('uploadFile', 'caption')">
            <i class="fas fa-cloud-upload-alt"></i> Upload Media
          </button>
          
          <div class="progress-wrapper" id="uploadProgress">
            <div class="progress-bar" id="uploadProgressBar"></div>
          </div>
        </div>
      </div>

      <!-- Search Section -->
      <div class="tab-content" id="search-tab">
        <div class="section">
          <h2>Search Media</h2>
          <p class="mb-4">Search using text, image, or audio to find the perfect media.</p>
          
          <div class="search-filters">
            <div class="filter-pill active">All Media</div>
            <div class="filter-pill">Images</div>
            <div class="filter-pill">Video</div>
            <div class="filter-pill">Audio</div>
            <div class="filter-pill">Documents</div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Text Search</label>
            <input type="text" id="searchText" class="form-control" placeholder="Describe what you're looking for...">
          </div>
          
          <div class="form-group">
            <label class="form-label">Image Search</label>
            <div class="file-input-wrapper">
              <input type="file" id="searchImage" class="file-input">
              <label for="searchImage" class="file-input-label">
                <i class="fas fa-image"></i>
                Upload a reference image
              </label>
            </div>
          </div>
          
          <button class="btn btn-primary btn-block" onclick="performSearch()">
            <i class="fas fa-search"></i> Search Media
          </button>
        </div>
      </div>
      
      <!-- Results Section (Will be populated by JavaScript) -->
      <div class="tab-content" id="results-tab">
        <div class="section">
          <h2>Search Results</h2>
          <div id="resultsContainer" class="results-container">
            <!-- Results will be dynamically populated here -->
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 AI Multimedia Search. All rights reserved.</p>
    </div>
  </footer>

  <!-- Core JS Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.3.4/axios.min.js"></script>
  
  <!-- Backend Connection Scripts -->
  <script src="/js/auth.js"></script>
  <script src="/js/upload.js"></script>
  <script src="/js/media.js"></script>
  <script src="/js/user.js"></script>
  
  <!-- Controller Scripts -->
  <script src="/controllers/authController.js"></script>
  <script src="/controllers/mediaController.js"></script>
  <script src="/controllers/searchController.js"></script>
  
  <!-- Route Scripts -->
  <script src="/routes/authRoutes.js"></script>
  <script src="/routes/searchRoutes.js"></script>
  <script src="/routes/mediaRoutes.js"></script>
  
  <!-- Main Application Script -->
  <script src="/app.js"></script>
  
  <script>
    // Tab switching functionality
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs and content
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked tab
        tab.classList.add('active');
        
        // Show corresponding content
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).classList.add('active');
      });
    });
    
    // File input handling for better UX
    document.getElementById('uploadFile').addEventListener('change', function() {
      const fileName = this.files[0]?.name || 'No file selected';
      document.getElementById('uploadFileName').textContent = fileName;
    });
    
    // Mobile menu toggle
    document.querySelector('.menu-btn').addEventListener('click', function() {
      document.querySelector('.nav-links').classList.toggle('active');
    });
    
    // Filter pill selection
    document.querySelectorAll('.filter-pill').forEach(pill => {
      pill.addEventListener('click', function() {
        document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
        this.classList.add('active');
      });
    });
  </script>
</body>
</html>